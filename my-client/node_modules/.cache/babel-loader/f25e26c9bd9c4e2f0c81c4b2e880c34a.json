{"ast":null,"code":"import _toConsumableArray from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/src/components/student/index.jsx\";\nimport React, { Component } from \"react\";\nimport getData from \"../../utils/getData\";\nimport Repo from \"./Repo\";\nimport { getStudent } from \"../../utils/localStorageData\";\nimport \"./style.css\";\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Index)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: null,\n      repos: null,\n      following: 0,\n      followers: 0,\n      bio: null,\n      img: null,\n      error: null\n    };\n\n    _this.isStudent = function () {\n      var username = _this.props.match.params.username;\n      var students = JSON.parse(getStudent(\"students\"));\n      var isStudent = false;\n      students.forEach(function (element) {\n        if (element.username === username) isStudent = true;\n      });\n\n      if (!isStudent) {\n        _this.setState({\n          error: \"\".concat(username, \" is not a student in facg6\")\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var username = this.props.match.params.username;\n      var studentInfo = JSON.parse(getStudent(username));\n\n      if (studentInfo) {\n        this.setState({\n          name: studentInfo.name,\n          bio: studentInfo.bio,\n          followers: studentInfo.followers,\n          following: studentInfo.following,\n          img: studentInfo.img\n        });\n        getData(studentInfo.repoUrl).then(function (result) {\n          var repos = result.map(function (repo) {\n            return {\n              name: repo.name,\n              link: repo.html_url\n            };\n          });\n\n          _this2.setState({\n            repos: _toConsumableArray(repos)\n          });\n        }).catch(function (error) {\n          _this2.setState({\n            error: \"There is error please refresh the page\"\n          });\n        });\n        return;\n      }\n\n      getData(\"https://api.github.com/users/\".concat(username)).then(function (result) {\n        var error = result.error;\n\n        if (error) {\n          _this2.setState({\n            error: error\n          });\n        } else {\n          _this2.setState({\n            name: result.name,\n            bio: result.bio,\n            followers: result.followers,\n            following: result.following,\n            img: result.avatar_url\n          });\n\n          return getData(result.repos_url);\n        }\n      }).then(function (result) {\n        var repos = result.map(function (repo) {\n          return {\n            name: repo.name,\n            link: repo.html_url\n          };\n        });\n\n        _this2.setState({\n          repos: _toConsumableArray(repos)\n        });\n      }).catch(function (error) {\n        _this2.setState({\n          error: \"There is error please refresh the page\"\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.isStudent();\n      var error = this.state.error;\n\n      if (error) {\n        return React.createElement(\"main\", {\n          className: \"main\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, error));\n      }\n\n      var _this$state = this.state,\n          name = _this$state.name,\n          img = _this$state.img,\n          followers = _this$state.followers,\n          following = _this$state.following,\n          bio = _this$state.bio,\n          repos = _this$state.repos;\n      return React.createElement(\"main\", {\n        className: \"main-students\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"main__info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: img,\n        className: \"main__info-img\",\n        alt: \"pict\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"main__info-username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.props.match.params.username), name && React.createElement(\"p\", {\n        className: \"main__info-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, name), React.createElement(\"p\", {\n        className: \"main__info-bio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"bio : \", bio), React.createElement(\"p\", {\n        className: \"main__info-following\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"following : \", following), React.createElement(\"p\", {\n        className: \"main__info-followers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Followers : \", followers)), React.createElement(\"section\", {\n        className: \"main__repos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"main__repos-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Repositories : \"), React.createElement(\"ol\", {\n        className: \"main__repos-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.repos ? repos.map(function (repo, index) {\n        return React.createElement(Repo, {\n          key: index,\n          details: repo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        });\n      }) : \"Loading ...\")));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/home/alaa/facg6Pro/new-myPro/project-react-facg/my-client/src/components/student/index.jsx"],"names":["React","Component","getData","Repo","getStudent","Index","state","name","repos","following","followers","bio","img","error","isStudent","username","props","match","params","students","JSON","parse","forEach","element","setState","studentInfo","repoUrl","then","result","map","repo","link","html_url","catch","avatar_url","repos_url","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport getData from \"../../utils/getData\";\nimport Repo from \"./Repo\";\nimport { getStudent } from \"../../utils/localStorageData\";\nimport \"./style.css\";\n\nexport default class Index extends Component {\n  state = {\n    name: null,\n    repos: null,\n    following: 0,\n    followers: 0,\n    bio: null,\n    img: null,\n    error: null\n  };\n\n  isStudent = () => {\n    const username = this.props.match.params.username;\n    const students = JSON.parse(getStudent(\"students\"));\n    let isStudent = false;\n    students.forEach(element => {\n      if (element.username === username) isStudent = true;\n    });\n    if (!isStudent) {\n      this.setState({ error: `${username} is not a student in facg6` });\n    }\n  };\n\n  componentDidMount() {\n    const username = this.props.match.params.username;\n    const studentInfo = JSON.parse(getStudent(username));\n    if (studentInfo) {\n      this.setState({\n        name: studentInfo.name,\n        bio: studentInfo.bio,\n        followers: studentInfo.followers,\n        following: studentInfo.following,\n        img: studentInfo.img\n      });\n      getData(studentInfo.repoUrl)\n        .then(result => {\n          const repos = result.map(repo => {\n            return { name: repo.name, link: repo.html_url };\n          });\n          this.setState({ repos: [...repos] });\n        })\n        .catch(error => {\n          this.setState({ error: \"There is error please refresh the page\" });\n        });\n        return ;\n    }\n    getData(`https://api.github.com/users/${username}`)\n      .then(result => {\n        const error = result.error;\n        if (error) {\n          this.setState({ error });\n        } else {\n          this.setState({\n            name: result.name,\n            bio: result.bio,\n            followers: result.followers,\n            following: result.following,\n            img: result.avatar_url\n          });\n          return getData(result.repos_url);\n        }\n      })\n      .then(result => {\n        const repos = result.map(repo => {\n          return { name: repo.name, link: repo.html_url };\n        });\n        this.setState({ repos: [...repos] });\n      })\n      .catch(error => {\n        this.setState({ error: \"There is error please refresh the page\" });\n      });\n  }\n  render() {\n    this.isStudent();\n    const error = this.state.error;\n    if (error) {\n      return (\n        <main className=\"main\">\n          <p>{error}</p>\n        </main>\n      );\n    }\n    const { name, img, followers, following, bio, repos } = this.state;\n    return (\n      <main className=\"main-students\">\n        <section className=\"main__info\">\n          <img src={img} className=\"main__info-img\" alt=\"pict\" />\n          <p className=\"main__info-username\">\n            {this.props.match.params.username}\n          </p>\n          {name && <p className=\"main__info-name\">{name}</p>}\n          <p className=\"main__info-bio\">bio : {bio}</p>\n          <p className=\"main__info-following\">following : {following}</p>\n          <p className=\"main__info-followers\">Followers : {followers}</p>\n        </section>\n        <section className=\"main__repos\">\n          <p className=\"main__repos-title\">Repositories : </p>\n          <ol className=\"main__repos-link\">\n            {this.state.repos\n              ? repos.map((repo, index) => <Repo key={index} details={repo} />)\n              : \"Loading ...\"}\n          </ol>\n        </section>\n      </main>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}